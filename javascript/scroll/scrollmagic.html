<!DOCTYPE html>
<html lang="en">
<head>
    <!-- head -->
    <script src="../../html/include/head.js"></script>
    <!-- // head -->
    
    <title>scrollmagic</title>
</head>
<body data-theme="light">

    <style>
        /* 참고 
        https://odada.me/223
        https://greensock.com/docs/v3/Installation
        https://cdnjs.com/libraries/gsap
        https://gsap.com/scrollmagic/
        */

        body {margin:0;padding:0;font-family:'Roboto', sans-serif;color:white;}
        section {width:100%;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:24px;text-transform:uppercase;font-weight:700;}
        .inner {position:relative;}
        .outer {border-bottom:solid white 2px;overflow:hidden;}
        .section1 {background-color:#84c186;}
        .section2 {background-color:#8b6c4c;}
        .section3 {background-color:#39a3ee;}
        .section4 {background-color:#ef9144;}
        .section5 {background-color:#cd58eb;}
        .section6 {background-color:#b84b4b;}

        .stage {padding:40px;margin-top:40px;background:#262626;display:flex;justify-content:center;align-items:center;}
        .box {height:60px;width:60px;align-items:center;margin:4px;font-size:1.2em;font-weight:700;color:white;border-radius:4px;display:flex;justify-content:center;flex-wrap:wrap;}
        .box1 {background-color:#84c186;}
        .box2 {background-color:#8b6c4c;}
        .box3 {background-color:#39a3ee;}
        .box4 {background-color:#ef9144;}
        .box5 {background-color:#cd58eb;}
        .box6 {background-color:#b84b4b;}
    </style>
    <section class="section1">
        <div class="outer">
            <div class="inner">This is Section 1</div>
        </div>
    </section>
    <section class="section2">
        <div class="outer">
            <div class="inner">This is Section 2</div>
        </div>
    </section>
    <section class="section3">
        <div class="outer">
            <div class="inner">This is Section 3</div>
        </div>
        <div class="stage">
            <div class="box box1">1</div>
            <div class="box box2">2</div>
            <div class="box box3">3</div>
            <div class="box box4">4</div>
            <div class="box box5">5</div>
            <div class="box box6">6</div>
        </div>
    </section>
    <section class="section4">
        <div class="outer">
            <div class="inner">This is Section 4</div>
        </div>
        <div class="stage">
            <div class="box box1">1</div>
            <div class="box box2">2</div>
            <div class="box box3">3</div>
            <div class="box box4">4</div>
            <div class="box box5">5</div>
            <div class="box box6">6</div>
        </div>
    </section>
    <section class="section5">
        <div class="outer">
            <div class="inner">This is Section 5</div>
        </div>
    </section>
    <section class="section6">
        <div class="outer">
            <div class="inner">This is Section 6</div>
        </div>
    </section>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>
    <script>
        var ctrl = new ScrollMagic.Controller();
        // Create scenes in jQuery each() loop
        $("section").each(function (i) {
            var inner = $(this).find(".inner");
            var outer = $(this).find(".outer");
            var tl = new TimelineMax();

            tl.from(outer, 0.25, { scaleX: 0 });
            tl.from(inner, 0.65, { yPercent: 100, ease: Back.easeOut });

            new ScrollMagic.Scene({
                triggerElement: this,
                triggerHook: 0.15
            })
                .setTween(tl)
                .addIndicators({
                    name: "section",
                    colorTrigger: "white",
                    colorStart: "white",
                    colorEnd: "white",
                    indent: 100
                })
                .addTo(ctrl);
        });
        

        
        var controller = new ScrollMagic.Controller();
        var tl = new TimelineMax();
        tl.staggerFrom(".section3 .box", 1.25, {
            scale: 0,
            cycle: {
                y: [-50, 50]
            },
            ease: Elastic.easeOut,
            stagger: {
                from: "center",
                amount: 0.25
            }
        });

        var scene = new ScrollMagic.Scene({
            triggerElement: ".section3",
            triggerHook: 0
        })
            .addIndicators({
                name: "section3 box",
                colorTrigger: "black",
                colorStart: "black",
                colorEnd: "black",
                indent: 300
            })
            .setTween(tl)
            .addTo(controller);



        TweenLite.defaultEase = Linear.easeNone;
        var controller = new ScrollMagic.Controller();
        var tl = new TimelineMax();
        tl.staggerFrom(".section4 .box", 1.5, {
            scale: 0,
            cycle: {
                y: [-50, 50]
            },
            stagger: {
                from: "center",
                amount: 0.75
            }
        });

        var scene = new ScrollMagic.Scene({
            triggerElement: ".section4",
            duration: "80%",
            triggerHook: 0.5
        })
            .addIndicators({
                name: "section4 box",
                colorTrigger: "blue",
                colorStart: "blue",
                colorEnd: "blue",
                indent: 300
            })
            .setTween(tl)
                .addTo(controller);
    </script>
    
    <!-- foot -->
    <script src="../../html/include/foot.js"></script>
    <!-- // foot -->
</body>
</html>