<!DOCTYPE html>
<html lang="en">
<head>
    <!-- head -->
    <script src="../../html/include/head.js"></script>
    <!-- // head -->
    
    <title>rolling_component</title>
</head>
<body data-theme="light">

    <!-- code_wrap -->
    <div class="code_wrap">
        <h1>rolling_component</h1>

        <!-- code_area -->
        <div class="code_tit">common</div>
        <div class="code_area">
            <!-- code_ui -->
            <div class="code_ui">
                <div class="code_ui_box">
<style>
    /* rolling */
    .rolling {position:relative;width:100%;}
    .rolling ul {display:flex;align-items:center;justify-content:center;flex-direction:row;box-sizing:border-box;width:100%;margin:0 auto;}
    .rolling ul li {flex:1;text-align:center;}
    .rolling ul li a {box-sizing:border-box;display:block;height:32px;background:#ddd;border:1px solid #ccc;color:#000;font-size:14px;line-height:32px;text-decoration:none;}
    .rolling ul li.on a {background:#fff;color:#ff00ff;}
</style>
<!-- rolling -->
<div class="rolling">
    <ul>
        <li><a href="#">탭1</a></li>
        <li><a href="#">탭2</a></li>
        <li><a href="#">탭3</a></li>
        <li><a href="#">탭4</a></li>
    </ul>
</div>
<!-- // rolling -->
<script>
    /**
     * RollingTabs 컴포넌트
     * @param {String|Element} selector - 대상 롤링 요소 선택자 또는 DOM 요소
     * @param {Object} options - 사용자 설정값 (index, speed, pauseType)
     * @example
     * new RollingTabs('#rolling1', { index: 1, speed: 1000, pause: 'click' });
     */
    class RollingTabs {
        constructor(selector, options = {}) {
            this.container = typeof selector === 'string' ? document.querySelector(selector) : selector;
            this.items = Array.from(this.container.querySelectorAll('li'));
            this.length = this.items.length;
            this.index = (options.index || 1) - 1;
            this.speed = options.speed || 2000;
            this.pauseType = options.pause || false;
            this.timer = null;

            this.init();
        }

        init() {
            this.startRolling();
            if (this.pauseType === 'click') {
                this.items.forEach(item => {
                    item.addEventListener('click', (e) => this.onClick(e));
                });
            }
            if (this.pauseType === 'hover') {
                this.items.forEach(item => {
                    item.addEventListener('mouseenter', (e) => this.onMouseEnter(e));
                    item.addEventListener('mouseleave', () => this.startRolling());
                    item.querySelector('a').addEventListener('click', (e) => e.preventDefault());
                });
            }
        }

        reset() {
            this.container.querySelector('ul').className = '';
            this.items.forEach(item => item.classList.remove('on'));
        }

        activate(index) {
            this.container.querySelector('ul').classList.add(`r${index + 1}`);
            this.items[index].classList.add('on');
        }

        startRolling() {
            clearInterval(this.timer);
            this.reset();
            this.activate(this.index);
            this.timer = setInterval(() => this.next(), this.speed);
        }

        next() {
            this.index = (this.index + 1) % this.length;
            this.reset();
            this.activate(this.index);
        }

        onClick(e) {
            e.preventDefault();
            this.index = this.items.indexOf(e.currentTarget);
            this.reset();
            this.activate(this.index);
            clearInterval(this.timer);
            setTimeout(() => this.startRolling(), this.speed);
        }

        onMouseEnter(e) {
            this.index = this.items.indexOf(e.currentTarget);
            this.reset();
            this.activate(this.index);
            clearInterval(this.timer);
        }
    }
</script>
                </div>
            </div>
            <!-- // code_ui -->
            <!-- code_view -->
            <div class="code_view"><div class="code_view_box"><textarea class="code_preview"></textarea></div></div>
            <!-- // code_view -->
        </div>
        <!-- // code_area -->

        <!-- code_area -->
        <div class="code_tit">default</div>
        <div class="code_area" data-style="vertical">
            <!-- code_ui -->
            <div class="code_ui">
                <div class="code_ui_box">
<!-- rolling -->
<div id="rolling1" class="rolling">
    <ul>
        <li><a href="#">탭1</a></li>
        <li><a href="#">탭2</a></li>
        <li><a href="#">탭3</a></li>
        <li><a href="#">탭4</a></li>
    </ul>
</div>
<!-- // rolling -->
<script>
    new RollingTabs('#rolling1');
</script>
                </div>
            </div>
            <!-- // code_ui -->
            <!-- code_view -->
            <div class="code_view"><div class="code_view_box"><textarea class="code_preview"></textarea></div></div>
            <!-- // code_view -->
        </div>
        <!-- // code_area -->

        <!-- code_area -->
        <div class="code_tit">pause 'click'</div>
        <div class="code_area" data-style="vertical">
            <!-- code_ui -->
            <div class="code_ui">
                <div class="code_ui_box">
<!-- rolling -->
<div id="rolling2" class="rolling">
    <ul>
        <li><a href="#">탭1</a></li>
        <li><a href="#">탭2</a></li>
        <li><a href="#">탭3</a></li>
        <li><a href="#">탭4</a></li>
    </ul>
</div>
<!-- // rolling -->
<script>
    new RollingTabs('#rolling2', { index: 1, speed: 1000, pause: 'click' });
</script>
                </div>
            </div>
            <!-- // code_ui -->
            <!-- code_view -->
            <div class="code_view"><div class="code_view_box"><textarea class="code_preview"></textarea></div></div>
            <!-- // code_view -->
        </div>
        <!-- // code_area -->

        <!-- code_area -->
        <div class="code_tit">pause 'over'</div>
        <div class="code_area" data-style="vertical">
            <!-- code_ui -->
            <div class="code_ui">
                <div class="code_ui_box">
<!-- rolling -->
<div id="rolling3" class="rolling">
    <ul>
        <li><a href="#">탭1</a></li>
        <li><a href="#">탭2</a></li>
        <li><a href="#">탭3</a></li>
        <li><a href="#">탭4</a></li>
    </ul>
</div>
<!-- // rolling -->
<script>
    new RollingTabs('#rolling3', { index: 1, speed: 1000, pause: 'hover' });
</script>
                </div>
            </div>
            <!-- // code_ui -->
            <!-- code_view -->
            <div class="code_view"><div class="code_view_box"><textarea class="code_preview"></textarea></div></div>
            <!-- // code_view -->
        </div>
        <!-- // code_area -->

    </div>
    <!-- // code_wrap -->

    <!-- foot -->
    <script src="../../html/include/foot.js"></script>
    <!-- // foot -->
</body>
</html>