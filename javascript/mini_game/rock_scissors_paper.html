<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
    <title>Rock Scissors Paper</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .title .reset {
            position: absolute;
            right: 0;
            bottom: 0;
            padding: 10px;
            font-size: 35px;
        }

        .text {
            position: absolute;
            z-index: -1;
            left: 50%;
            top: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--color-first);
            font-family: var(--font-default);
            font-size: 45px;
            transform: translateX(-50%) translateY(-50%);
            opacity: 0.4;
        }

        .rsp {
            font-size: 35px;
        }

        .you,
        .me {
            position: absolute;
            flex-wrap: wrap;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: row;
            gap: 10px;
            box-sizing: border-box;
            padding: 10px;
            text-align: center;
        }

        .you {
            left: 0;
            top: 0;
            display: none;
        }

        .me {
            right: 0;
            bottom: 0;
        }

        .you_open,
        .me_open {
            position: absolute;
            left: 50%;
            top: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 110px;
            height: 110px;
            background: var(--color-third);
            border-radius: 50%;
            transform: translateX(-50%) translateY(-50%);
        }

        .you_open {
            margin-top: -140px;
        }

        .me_open {
            margin-top: 140px;
        }

        .you_open .rsp,
        .me_open .rsp {
            font-size: 50px;
        }

        /* Responsive Design */
        @media (min-width: 768px) {
            .title .reset {
                padding: 20px;
                font-size: 50px;
            }

            .text {
                font-size: 80px;
            }

            .rsp {
                font-size: 50px;
            }

            .you,
            .me {
                padding: 20px;
                flex-direction: column;
            }

            .you_open,
            .me_open {
                width: 200px;
                height: 200px;
            }

            .you_open {
                margin-top: -240px;
            }

            .me_open {
                margin-top: 240px;
            }

            .you_open .rsp,
            .me_open .rsp {
                font-size: 100px;
            }
        }

        @media (min-width: 1080px) {
            .title .reset {
                font-size: 70px;
            }

            .text {
                font-size: 100px;
            }

            .rsp {
                font-size: 70px;
            }

            .you_open,
            .me_open {
                width: 220px;
                height: 220px;
            }

            .you_open .rsp,
            .me_open .rsp {
                font-size: 120px;
            }
        }

        @media (min-width: 1280px) {
            .title .reset {
                padding: 50px;
            }

            .text {
                font-size: 120px;
            }

            .you,
            .me {
                padding: 50px;
            }

            .you_open,
            .me_open {
                width: 320px;
                height: 320px;
            }

            .you_open {
                margin-top: -280px;
            }

            .me_open {
                margin-top: 280px;
            }

            .you_open .rsp,
            .me_open .rsp {
                font-size: 170px;
            }
        }
    </style>
</head>

<body>
    <div class="wrap">
        <a href="javascript:history.back();" class="back">ğŸ‘ˆğŸ»</a>

        <div class="container">
            <h1 class="title">
                <strong class="result">Rock Scissors Paper</strong>
                <button class="reset">ğŸ°</button>
            </h1>

            <div class="you">
                <div class="rsp rock">âœŠğŸ»</div>
                <div class="rsp scissors">âœŒğŸ»</div>
                <div class="rsp paper">ğŸ–ğŸ»</div>
            </div>
            <div class="you_open">
                <strong class="text">You</strong>
                <!-- ìƒëŒ€ë°© ëœë¤ ëª¨ì…˜ -->
                <div class="rsp rock">âœŠğŸ»</div>
            </div>

            <div class="me">
                <button class="rsp rock">âœŠğŸ»</button>
                <button class="rsp scissors">âœŒğŸ»</button>
                <button class="rsp paper">ğŸ–ğŸ»</button>
            </div>
            <div class="me_open">
                <strong class="text">Me</strong>
                <!-- í”Œë ˆì´ì–´ ì„ íƒ ê²°ê³¼ -->
                <div class="rsp rock">âœŠğŸ»</div>
            </div>
        </div>
    </div>
    <script>
        (function () {
            const choices = ['rock', 'scissors', 'paper']; // ì„ íƒì§€ ë°°ì—´
            let youOpen = document.querySelector('.you_open .rsp'); // ìƒëŒ€ë°© ê²°ê³¼ í‘œì‹œ
            let meOpen = document.querySelector('.me_open .rsp'); // í”Œë ˆì´ì–´ ê²°ê³¼ í‘œì‹œ
            let result = document.querySelector('.result'); // ê²°ê³¼ ë©”ì‹œì§€
            let resetBtn = document.querySelector('.reset'); // ë¦¬ì…‹ ë²„íŠ¼
            let intervalYou; // ìƒëŒ€ë°© ìˆœì„œ ëª¨ì…˜ íƒ€ì´ë¨¸
            let intervalMe; // í”Œë ˆì´ì–´ ìˆœì„œ ëª¨ì…˜ íƒ€ì´ë¨¸
            let indexYou = 0; // ìƒëŒ€ë°© ë°°ì—´ ì¸ë±ìŠ¤
            let indexMe = 0; // í”Œë ˆì´ì–´ ë°°ì—´ ì¸ë±ìŠ¤
            let gameEnded = false; // ê²Œì„ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” í”Œë˜ê·¸

            // ìˆœì„œëŒ€ë¡œ ê°€ìœ„ë°”ìœ„ë³´ ëª¨ì…˜ ì„¤ì • (ìƒëŒ€ë°©)
            function startSequentialMotionYou() {
                intervalYou = setInterval(() => {
                    youOpen.textContent = getEmoji(choices[indexYou]);
                    indexYou = (indexYou + 1) % choices.length; // ìˆœí™˜
                }, 200); // 0.2ì´ˆë§ˆë‹¤ ë³€ê²½
            }

            // ìˆœì„œëŒ€ë¡œ ê°€ìœ„ë°”ìœ„ë³´ ëª¨ì…˜ ì„¤ì • (í”Œë ˆì´ì–´)
            function startSequentialMotionMe() {
                resetBtn.style.display = 'none';
                intervalMe = setInterval(() => {
                    meOpen.textContent = getEmoji(choices[indexMe]);
                    indexMe = (indexMe + 1) % choices.length; // ìˆœí™˜
                }, 200); // 0.2ì´ˆë§ˆë‹¤ ë³€ê²½
            }

            // ëª¨ì…˜ ë©ˆì¶”ê³  ê²°ê³¼ ì„¤ì • (ìƒëŒ€ë°©)
            function stopSequentialMotionYou() {
                clearInterval(intervalYou);
                const finalChoice = choices[indexYou];
                youOpen.textContent = getEmoji(finalChoice); // ìµœì¢… ê²°ê³¼ í‘œì‹œ
                return finalChoice;
            }

            // ëª¨ì…˜ ë©ˆì¶”ê³  ê²°ê³¼ ì„¤ì • (í”Œë ˆì´ì–´)
            function stopSequentialMotionMe(playerChoice) {
                clearInterval(intervalMe);
                meOpen.textContent = getEmoji(playerChoice); // ìµœì¢… ì„ íƒ í‘œì‹œ
            }

            // ê°€ìœ„ë°”ìœ„ë³´ ì´ëª¨ì§€ ë°˜í™˜
            function getEmoji(choice) {
                switch (choice) {
                    case 'rock': return 'âœŠğŸ»';
                    case 'scissors': return 'âœŒğŸ»';
                    case 'paper': return 'ğŸ–ğŸ»';
                }
            }

            // ìŠ¹ë¶€ ê³„ì‚°
            function calculateResult(playerChoice, computerChoice) {
                if (playerChoice === computerChoice) {
                    return "Draw!";
                } else if (
                    (playerChoice === 'rock' && computerChoice === 'scissors') ||
                    (playerChoice === 'scissors' && computerChoice === 'paper') ||
                    (playerChoice === 'paper' && computerChoice === 'rock')
                ) {
                    return "You Win!";
                } else {
                    return "Computer Wins!";
                }
            }

            // í´ë¦­ ì´ë²¤íŠ¸ ì„¤ì •
            document.querySelectorAll('.me .rsp').forEach((button) => {
                button.addEventListener('click', () => {
                    if (gameEnded) return; // ê²Œì„ì´ ì¢…ë£Œë˜ì—ˆìœ¼ë©´ í´ë¦­ ë§‰ê¸°
                    gameEnded = true; // ê²Œì„ ìƒíƒœë¥¼ ì¢…ë£Œë¡œ ë³€ê²½

                    const playerChoice = button.classList[1]; // í”Œë ˆì´ì–´ ì„ íƒ
                    stopSequentialMotionMe(playerChoice); // í”Œë ˆì´ì–´ ëª¨ì…˜ ë©ˆì¶”ê¸°
                    const computerChoice = stopSequentialMotionYou(); // ìƒëŒ€ë°© ëª¨ì…˜ ë©ˆì¶”ê¸°

                    // ê²°ê³¼ í‘œì‹œ
                    resetBtn.style.display = 'block';
                    result.textContent = calculateResult(playerChoice, computerChoice);
                });
            });

            // ë¦¬ì…‹ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
            resetBtn.addEventListener('click', () => {
                gameEnded = false; // ê²Œì„ ìƒíƒœë¥¼ ë‹¤ì‹œ ì‹œì‘ìœ¼ë¡œ ë³€ê²½
                result.textContent = "Rock Scissors Paper"; // ê²°ê³¼ ì´ˆê¸°í™”
                indexYou = 0; // ìƒëŒ€ë°© ì¸ë±ìŠ¤ ì´ˆê¸°í™”
                indexMe = 0; // í”Œë ˆì´ì–´ ì¸ë±ìŠ¤ ì´ˆê¸°í™”
                startSequentialMotionYou(); // ìƒëŒ€ë°© ëª¨ì…˜ ì¬ê°œ
                startSequentialMotionMe(); // í”Œë ˆì´ì–´ ëª¨ì…˜ ì¬ê°œ
            });

            // ì´ˆê¸° ì‹¤í–‰
            startSequentialMotionYou();
            startSequentialMotionMe();
        })();
    </script>
</body>

</html>