<!DOCTYPE html>
<html lang="en">
<head>
    <!-- head -->
    <script src="../../../html/include/head.js"></script>
    <!-- // head -->
    
    <title>d_day</title>
</head>
<body data-theme="light">

    <!-- code_wrap -->
    <div class="code_wrap">
        <h1>d_day</h1>

        <!-- code_area -->
        <div class="code_tit">num</div>
        <div class="code_area" data-style="vertical">
            <!-- code_ui -->
            <div class="code_ui">
                <div class="code_ui_box">
<style type="text/css">
    .time {display:flex;align-items:center;justify-content:center;flex-direction:row;font-size:50px;}
    .time strong {display:flex;align-items:center;justify-content:center;box-sizing:border-box;padding:0 10px;background:#000;color:#fff;font-size:50px;font-weight:800;letter-spacing:0.1em;}
</style>
<div id="countdown" class="time">D-<strong>00</strong>, <strong>00</strong>:<strong>00</strong>:<strong>00</strong></div>
<script type="text/javascript" >
    const countDownDate = new Date("May 21, 2025 15:10:00").getTime();
    
    function pad(num, size) {
        return String(num).padStart(size, '0');
    }

    function updateCountdown() {
        const now = new Date().getTime();
        const distance = countDownDate - now;

        if (distance < 0) {
            document.getElementById("countdown").innerHTML = "EXPIRED";
            return; // 카운트다운이 종료된 경우 함수 종료
        }

        const days = pad(Math.floor(distance / (1000 * 60 * 60 * 24)), 3);
        const hours = pad(Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)), 2);
        const minutes = pad(Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)), 2);
        const seconds = pad(Math.floor((distance % (1000 * 60)) / 1000), 2);

        document.getElementById("countdown").innerHTML = `D-<strong>${days}</strong>, <strong>${hours}</strong>:<strong>${minutes}</strong>:<strong>${seconds}</strong>`;
    }

    function startCountdown() {
        updateCountdown(); // 처음 한 번 업데이트
        const update = () => {
            updateCountdown();
            requestAnimationFrame(update);
        }
        requestAnimationFrame(update); // 애니메이션 프레임을 통한 지속적인 업데이트
    }

    startCountdown(); // 카운트다운 시작
</script>
                </div>
            </div>
            <!-- // code_ui -->
            <!-- code_view -->
            <div class="code_view"><div class="code_view_box"><textarea class="code_preview"></textarea></div></div>
            <!-- // code_view -->
        </div>
        <!-- // code_area -->

        <!-- code_area -->
        <div class="code_tit">img</div>
        <div class="code_area" data-style="vertical">
            <!-- code_ui -->
            <div class="code_ui">
                <div class="code_ui_box">
<style type="text/css">
    .time_cnt {color:#000;font-size:50px;}
    .time_cnt dl {display:flex;align-items:center;justify-content:center;flex-direction:row;box-sizing:border-box;}
    .time_cnt dd,
    .time_cnt dd em {display:flex;align-items:center;justify-content:center;flex-direction:row;}
    .time_cnt dd span {overflow:hidden;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:50px;height:50px;margin:0 2px;background:#000;}
    .time_cnt dd span img {vertical-align:middle;}
    .time_cnt dd .hour {margin-left:20px;}
</style>
<div id="time_cnt" class="time_cnt">
    <dl>
        <dt>D-</dt>
        <dd>
            <em class="day"><span></span><span></span><span></span></em>,  <!-- 최대 3자리 -->
            <em class="hour"><span></span><span></span></em> :
            <em class="min"><span></span><span></span></em> :
            <em class="sec"><span></span><span></span></em>
        </dd>
    </dl>
</div>
<script type="text/javascript" >
    const dday = new Date("May 21, 2025 15:10:00").getTime();
    
    function pad(num, size) {
        return String(num).padStart(size, '0');
    }

    function updateTime() {
        const now = new Date().getTime();
        const gap = dday - now;

        if (gap < 0) {
            document.getElementById("time_cnt").innerHTML = "EXPIRED";
            return;
        }

        const days = Math.floor(gap / (1000 * 60 * 60 * 24)); // 계산 후, padding 적용
        const hours = pad(Math.floor((gap % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)), 2);
        const minutes = pad(Math.floor((gap % (1000 * 60 * 60)) / (1000 * 60)), 2);
        const seconds = pad(Math.floor((gap % (1000 * 60)) / 1000), 2);

        updateDisplay(days, hours, minutes, seconds);
    }

    function updateDisplay(days, hours, minutes, seconds) {
        const dayElem = document.querySelector('.day');
        const hourElem = document.querySelector('.hour');
        const minElem = document.querySelector('.min');
        const secElem = document.querySelector('.sec');

        // 각 자릿수에 맞게 span 요소 생성
        dayElem.innerHTML = ''; // Clear existing spans
        const dayStr = String(days); // days를 문자열로 변환
        for (let i = 0; i < dayStr.length; i++) {
            dayElem.innerHTML += `<span><img src="../../images/num${dayStr[i]}.png" alt="${dayStr[i]}"></span>`;
        }

        hourElem.innerHTML = `<span><img src="../../images/num${hours[0]}.png" alt="${hours[0]}"></span>
                            <span><img src="../../images/num${hours[1]}.png" alt="${hours[1]}"></span>`;
        minElem.innerHTML = `<span><img src="../../images/num${minutes[0]}.png" alt="${minutes[0]}"></span>
                            <span><img src="../../images/num${minutes[1]}.png" alt="${minutes[1]}"></span>`;
        secElem.innerHTML = `<span><img src="../../images/num${seconds[0]}.png" alt="${seconds[0]}"></span>
                            <span><img src="../../images/num${seconds[1]}.png" alt="${seconds[1]}"></span>`;
    }

    function startCountdown() {
        updateTime(); // 처음 한 번 업데이트
        const update = () => {
            updateTime();
            requestAnimationFrame(update);
        }
        requestAnimationFrame(update); // 애니메이션 프레임을 통한 지속적인 업데이트
    }

    startCountdown(); // 카운트다운 시작
</script>
                </div>
            </div>
            <!-- // code_ui -->
            <!-- code_view -->
            <div class="code_view"><div class="code_view_box"><textarea class="code_preview"></textarea></div></div>
            <!-- // code_view -->
        </div>
        <!-- // code_area -->

    </div>
    <!-- // code_wrap -->

    <!-- foot -->
    <script src="../../../html/include/foot.js"></script>
    <!-- // foot -->
</body>
</html>