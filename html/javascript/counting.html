<!DOCTYPE html>
<html lang="en">
<head>
    <!-- head -->
    <script src="../include/head.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- // head -->
    
    <title>counting</title>
</head>
<body data-theme="light">

    <!-- code_wrap -->
    <div class="code_wrap">
        <h1>counting</h1>

        <!-- code_area -->
        <div class="code_tit">style1 - default, comma</div>
        <div class="code_area" data-style="">
            <!-- code_ui -->
            <div class="code_ui">
                <div class="code_ui_box">
<style type="text/css">
    .num {display:inline-block;position:relative;z-index:0;background:#eee;}
    .correct {display:inline-block;width:172px;height:63px;font-size:45px;line-height:63px;text-align:center;letter-spacing:2px;}
    .shadow {position:absolute;z-index:0;left:0;top:0;display:inline-block;width:172px;height:63px;background:url("http://www.lotteworld.com/_img/info/time/clock_shadow.png") no-repeat;}
</style>
<div class="num">
    <span class="correct count_num">130</span>
    <span class="shadow"></span>
</div>
<div class="num">
    <span class="correct count_comma">1300</span>
    <span class="shadow"></span>
</div>
<script type="text/javascript" >
    $(function(){
        function animateCounter($element, withComma) {
            $({ Counter: 0 }).animate({ Counter: $element.text() }, {
                duration: 1000,
                step: function () {
                    var value = Math.ceil(this.Counter);
                    $element.text(withComma ? numberWithCommas(value) : value);
                }
            });
        }

        var $numCorrect_count_num = $('.count_num');
        var $numCorrect_count_comma = $('.count_comma');

        animateCounter($numCorrect_count_num, false);
        animateCounter($numCorrect_count_comma, true);

        function numberWithCommas(x) {
            return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }
    });
</script>
                </div>
            </div>
            <!-- // code_ui -->
            <!-- code_view -->
            <div class="code_view"><div class="code_view_box"><textarea class="code_preview"></textarea></div></div>
            <!-- // code_view -->
        </div>
        <!-- // code_area -->

        <!-- code_area -->
        <div class="code_tit">style2 - default, comma</div>
        <div class="code_area" data-style="vertical">
            <!-- code_ui -->
            <div class="code_ui">
                <div class="code_ui_box">
<style type="text/css">
    .flex {display:flex;justify-content:space-between;margin:100px auto;width:100%;max-width:600px;}
    .flex .col {font-size:35px;font-weight:700;text-align:center;}
</style>
<div class="flex">
	<div class="col">
		<p class="count-num" data-count="7777">0</p>
	</div>
	<div class="col">
		<p class="count-num" data-count="5555">0</p>
	</div>
	<div class="col">
		<p class="count-num" data-count="3333">0</p>
	</div>
</div>
<div class="flex">
	<div class="col">
		<p class="count-num-comma" data-count="7777">0</p>
	</div>
	<div class="col">
		<p class="count-num-comma" data-count="5555">0</p>
	</div>
	<div class="col">
		<p class="count-num-comma" data-count="3333">0</p>
	</div>
</div>
<script type="text/javascript" >
    $(function() {
        function animateCount($element, withComma) {
            var countTo = $element.attr('data-count');
            $({ countNum: $element.text() }).animate({
                countNum: countTo
            },
            {
                duration: 1000,
                easing: 'linear',
                step: function() {
                    var num = withComma ? numberWithCommas(Math.floor(this.countNum)) : Math.floor(this.countNum);
                    $element.text(num);
                },
                complete: function() {
                    var num = withComma ? numberWithCommas(this.countNum) : this.countNum;
                    $element.text(num);
                }
            });
        }

        $('.count-num').each(function() {
            animateCount($(this), false);
        });

        $('.count-num-comma').each(function() {
            animateCount($(this), true);
        });

        function numberWithCommas(x) {
            return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }
    });
</script>
                </div>
            </div>
            <!-- // code_ui -->
            <!-- code_view -->
            <div class="code_view"><div class="code_view_box"><textarea class="code_preview"></textarea></div></div>
            <!-- // code_view -->
        </div>
        <!-- // code_area -->

        <!-- code_area -->
        <div class="code_tit">style3 - default, comma</div>
        <div class="code_area" data-style="vertical">
            <!-- code_ui -->
            <div class="code_ui">
                <div class="code_ui_box">
<style type="text/css">
    .content {display:flex;justify-content:space-around;align-items:center;background:#030303;height:200px;}
    .counter {font-size:50px;display:block;font-weight:bold;color:#fff;}
</style>
<div class="content">
    <div class="counter counter_num" data-target="1000" data-speed="200">0</div>
    <div class="counter counter_num" data-target="500" data-speed="150">0</div>
    <div class="counter counter_num" data-target="700" data-speed="180">0</div>
    <div class="counter counter_num" data-target="999" data-speed="220">0</div>
</div>
<div class="content">
    <div class="counter counter_comma" data-target="1000000" data-speed="250">0</div>
</div>
<script type="text/javascript" >
    // 애니메이션을 위한 공통 함수
    function animateCounter(counter, formatWithComma = false) {
        const target = +counter.getAttribute('data-target');
        const speed = +counter.getAttribute('data-speed') || 200;
        let startValue = +counter.innerText;
        
        const updateCounter = () => {
            const increment = target / speed;
            startValue = Math.min(startValue + increment, target);
            counter.innerText = formatWithComma 
                ? numberWithCommas(Math.floor(startValue)) 
                : Math.floor(startValue);

            if (startValue < target) {
                requestAnimationFrame(updateCounter);
            }
        };
        requestAnimationFrame(updateCounter);
    }

    // 쉼표를 추가해주는 함수
    function numberWithCommas(x) {
        return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
    }

    // 모든 .counter_num 애니메이션 실행
    document.querySelectorAll('.counter_num').forEach(counter => {
        animateCounter(counter);
    });

    // 모든 .counter_comma 애니메이션 실행 (쉼표 포함)
    document.querySelectorAll('.counter_comma').forEach(counter => {
        animateCounter(counter, true);
    });
</script>
                </div>
            </div>
            <!-- // code_ui -->
            <!-- code_view -->
            <div class="code_view"><div class="code_view_box"><textarea class="code_preview"></textarea></div></div>
            <!-- // code_view -->
        </div>
        <!-- // code_area -->

        <!-- code_area -->
        <div class="code_tit">title</div>
        <div class="code_area" data-style="vertical">
            <!-- code_ui -->
            <div class="code_ui">
                <div class="code_ui_box">
<style type="text/css">
</style>
<script type="text/javascript" >
</script>
                </div>
            </div>
            <!-- // code_ui -->
            <!-- code_view -->
            <div class="code_view"><div class="code_view_box"><textarea class="code_preview"></textarea></div></div>
            <!-- // code_view -->
        </div>
        <!-- // code_area -->

        <!-- code_area -->
        <div class="code_tit">title</div>
        <div class="code_area" data-style="vertical">
            <!-- code_ui -->
            <div class="code_ui">
                <div class="code_ui_box">
<style type="text/css">
</style>
<script type="text/javascript" >
</script>
                </div>
            </div>
            <!-- // code_ui -->
            <!-- code_view -->
            <div class="code_view"><div class="code_view_box"><textarea class="code_preview"></textarea></div></div>
            <!-- // code_view -->
        </div>
        <!-- // code_area -->

        <!-- code_area -->
        <div class="code_tit">title</div>
        <div class="code_area" data-style="vertical">
            <!-- code_ui -->
            <div class="code_ui">
                <div class="code_ui_box">
<style type="text/css">
</style>
<script type="text/javascript" >
</script>
                </div>
            </div>
            <!-- // code_ui -->
            <!-- code_view -->
            <div class="code_view"><div class="code_view_box"><textarea class="code_preview"></textarea></div></div>
            <!-- // code_view -->
        </div>
        <!-- // code_area -->

    </div>
    <!-- // code_wrap -->

    <!-- foot -->
    <script src="../include/foot.js"></script>
    <!-- // foot -->
</body>
</html>